# Projet finale
This folder contains the final project for the LINFO1212 Course. 
This is a link to our [XD UI design](https://xd.adobe.com/view/55df3040-04f0-4185-98be-db1e66c10891-008c/).
And here the link to our [tasks timeline](https://docs.google.com/document/d/1ffFzls8U0NDZME7glb_DqhvGBNL_LUBWAEz5BC5bzjw/edit).
## 1. Abstract
This application is a web application that allows UCLouvain students to order food in all the restaurants on the Louvain La neuve Campus, and have their orders delivered to the Halls in which they selected. 
## 2. File structure
The file structure is like follow.
```
| db
|--- testingdb
| private
|--- ssl
|--- js
|---|--- customer
|---|--- seller
|---|--- general
|---|--- apis
| static
|--- css
|--- js
|--- images
| templates
|--- customer
|--- seller
| tests
| dbCommand.txt
| app.js
| server.js
| serverForTest.js
```

## 3. Style Guide 
Here we are going to define our style guide for the project. These are rules that we used while implementing the web application.

### 3.1 JavaScript
For JavaScript (.js) files here are the rules : 

* Imports 
  * Importing modules we will be using the `<require>` keyword.
  * The name given to the variable containing the import is declared with const and the name starts with a small Letter.
  ```js
  const mongoose = require('mongoose');
  const mongodbServer = require('mongodb').Server;
  const appClients = require('./clients/app');
  ```
* Functions 
  * Apart from `App.js`, for functions, we are going to prioritize promises than callbacks. Meaning when possible we are going to always return promises. 
  * Async / sync functions ? this will depend on the developers needs.
  * Functions names start with a small letter but a Capital letter is a must when starting a new word.
  ```js
  async function fetchFromDb(db, spec){
    ...
  }
  ```
  * In `App.js`, we don't create functions, we only import and use them in routers callbacks. Most of the imported functions are in `private/js`.

  
 ### 3.2 CSS 
 For the Cascading Style Sheets (.css) files we are going to prioritize classes over ids. So that we can use the ids for the front end javascript programing.
 
 ### 3.3 HTML
 The html files are mostly going to be `<templates>` that use mustache [mustache](https://github.com/janl/mustache.js).
 
 ## 4. Folder Organisation
 We have 5 main folders : db, private, static, templates and tests folder.
 
 ### 4.1 Db
 This folder contains sub-folder *testingdb* which is our database.
 
 ### 4.2 Private 
 
  * **Js** :
  This sub-folder is for all *back-end functions*. All functions in this folder are exported and most of them are the ones used in `app.js`. 
  You can find also the schemas of our database in `private/js/general` folder.
 
  * **Ssl** : 
  This sub-folder contains the key and certificates generated by https. 
 
 ### 4.3 Static
 
  * **Css** : 
  This sub-folder contains the css of web application.
 
  * **Images** : 
  This sub-folder contains all images used in our web application.
 
  * **Js** : 
  This sub-folder contains all functions for front-end dynamic intervention.
 
 ### 4.4 Templates
  This folder has all HTML pages of our web application.

 ### 4.5 Tests
  This folder has necessary functions we used to test our web application.
 
 ## 5. Additional Information
 * In `server.js`, we only import the app and connect the server to our database.
 * We used *Mongoose* to give structure to and connect our server with our database. [Mongoose Documentation](https://mongoosejs.com/docs/index.html) (-----)
 * To secure sensitive information,to prevent from brute-force attack and protect passwords, we used *bcrypt* and *express-rate-limit* modules.
 * To secure our database, we created a user's security creditials which without it, the user can't get access to our database. (**Is it necessary?**)
 
 ## 6. How To run our web
 
1. If it is your first time running our web, You will *need to import our database*, for a better experience. To do so:
	* Run your mongodb in a terminal : `mongod --dbpath <pathOfWhereYourDbIs>`.
	* Go in 'db' folder of our project. There is a folder named 'testingdb'.
	* Copy the path of 'testingdb'. 
	* Open a new terminal in the 'ProjetFinale' folder.
	* Run this command : `mongorestore --db giq --drop <pathYouCopied>`. 
		It should look like this : `mongorestore --db giq --drop pathWhereYouPutOurProject/projetFinale/db/testingdb`.
	* If everything is okay, run also this command: `mongo < dbCommand.txt`.
	* then Skip point 2 below and go directly to point 3.

2. If it isn't your first time, please, run your mongodb in a terminal : `mongod --dbpath <pathOfWhereYourDbIs>` .
3. Run our file server.js in the terminal: `node server.js` **(Please make sure to be in the 'ProjetFinale' folder)**
4. Open a web browser and then type 'https://localhost:8080/'
5. If you get a Privacy error, go to Advance => Proceed to localhost (unsafe) (Don't worry, No hackers will come for our website).


**Welcome to our web application !!**

